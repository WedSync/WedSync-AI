# ğŸ§  DEEP AGENT MCP PROTOCOL - MANDATORY INSTRUCTIONS

## ğŸš¨ CRITICAL: NO MORE WEB SEARCHES!

### âŒ DO NOT DO THIS:
```
Web Search("JavaScript TypeScript test refactoring...")
```

### âœ… DO THIS INSTEAD:
```
ğŸ” Using Ref MCP for TypeScript documentation...
ğŸ“š Ref MCP: Searching TypeScript refactoring patterns
ğŸ“– Found official TypeScript complexity reduction guides
```

## ğŸ§  MANDATORY MCP WORKFLOW FOR ALL DEEP JOBS:

### Step 1: ğŸ“š ALWAYS USE REF MCP FIRST
Instead of web search, use Ref MCP:
- âœ… "Using Ref MCP to research [technology] patterns"
- âœ… "Ref MCP: Found official [framework] documentation"
- âœ… "Ref MCP: Located best practices for [issue type]"

### Step 2: ğŸ¤– DEPLOY SUB-AGENTS WITH TASK TOOL
Use the Task tool with subagent_type:
```
Task({ 
  subagent_type: 'general-purpose',
  prompt: 'Architecture review for complex nesting issue in [file]',
  description: 'Review cognitive complexity refactoring'
})
```

### Step 3: ğŸ§ª USE COMPREHENSIVE VERIFICATION
- âœ… Apply fixes based on Ref MCP documentation
- âœ… Get sub-agent approval before committing
- âœ… Document architectural decisions

## ğŸ¯ EXAMPLE CORRECT WORKFLOW:

```
ğŸ” Analyzing complex nesting issue...
ğŸ“š Using Ref MCP to research TypeScript complexity patterns
âœ… Ref MCP: Found official TypeScript refactoring guidelines

ğŸ¤– Deploying architecture reviewer sub-agent:
Task({ 
  subagent_type: 'general-purpose',
  prompt: 'Review cognitive complexity refactoring for viral analytics'
})

ğŸ› ï¸ Applying refactoring based on Ref MCP guidelines:
- Extract nested callbacks to separate functions
- Reduce cognitive complexity from 17 to 12
- Apply TypeScript best practices from official docs

âœ… Sub-agent approval received
âœ… Comprehensive verification complete
âœ… Ready for commit
```

## ğŸš« NEVER AGAIN:
- Web searches for documentation
- Random website references  
- Skipping sub-agent deployment
- Basic verification for complex issues

## âœ… ALWAYS:
- Use Ref MCP for official documentation
- Deploy required sub-agents
- Follow comprehensive verification
- Document decisions
