# SonarQube Enterprise Configuration for WedSync
# Configured for 2.2M+ LOC wedding platform
# Generated: September 3, 2025

# Project Information
sonar.projectKey=WedSync_WedSync2
sonar.projectName=WedSync Wedding Platform
sonar.projectVersion=2.0
sonar.organization=wedsync
sonar.host.url=https://sonarcloud.io

# ENTERPRISE SOURCE CONFIGURATION
# Scan ALL source directories across the monorepo (2.2M+ LOC)
sonar.sources=src,wedsync/src,wedsync/wedsync/src,scripts,middleware.ts,WORKFLOW-V2-DRAFT

# Test Configuration
sonar.tests=src/__tests__,wedsync/src/__tests__,wedsync/__tests__,__tests__,tests,test
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.test.js,**/*.test.jsx,**/*.spec.ts,**/*.spec.tsx

# PERFORMANCE OPTIMIZATIONS FOR 2M+ LOC
# Exclude heavy directories to optimize scan performance
sonar.exclusions=\
  **/node_modules/**,\
  **/.next/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/.serena/**,\
  **/.git/**,\
  **/.vscode/**,\
  **/.claude/**,\
  **/.env*,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.test.js,\
  **/*.test.jsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/*.d.ts,\
  **/assets/**,\
  **/public/sw*.js,\
  **/.playwright-mcp/**,\
  **/EVIDENCE-PACKAGE*/**,\
  **/TEST-WORKFLOW/**,\
  **/*.md

# Coverage Exclusions
sonar.coverage.exclusions=\
  **/*.test.*,\
  **/*.spec.*,\
  **/__tests__/**,\
  **/__mocks__/**,\
  **/mocks/**,\
  **/coverage/**,\
  **/scripts/**,\
  **/middleware.ts,\
  **/*.config.js,\
  **/*.config.mjs,\
  **/*.config.ts

# File Type Configuration
sonar.javascript.file.suffixes=.js,.jsx
sonar.typescript.file.suffixes=.ts,.tsx

# Coverage Reports Configuration
sonar.javascript.lcov.reportPaths=coverage/lcov.info,wedsync/coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info,wedsync/coverage/lcov.info
sonar.testExecutionReportPaths=test-results.xml,wedsync/test-results.xml

# WEDDING PLATFORM SPECIFIC RULES
# Enhanced security for payment processing and customer data
sonar.security.hotspots.inheritance=true
sonar.qualitygate.wait=true

# Performance thresholds for wedding day reliability
sonar.javascript.nodejs.maxspace=8192
sonar.typescript.timeout=120

# Code Quality Standards
# Set strict thresholds for wedding platform reliability
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Ignore specific patterns for generated/documentation files
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1128
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*generated*
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S1128
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*generated*

# Ignore certain patterns in workflow documentation
sonar.issue.ignore.multicriteria.e3.ruleKey=*
sonar.issue.ignore.multicriteria.e3.resourceKey=**/WORKFLOW*/**

# Ignore migration scripts (one-time use)
sonar.issue.ignore.multicriteria.e4.ruleKey=*
sonar.issue.ignore.multicriteria.e4.resourceKey=**/migrations/**

# ENTERPRISE QUALITY GATES
# Custom quality gate for wedding platform
sonar.qualitygate.conditions=\
  new_reliability_rating > 1,\
  new_security_rating > 1,\
  new_maintainability_rating > 1,\
  new_coverage < 60.0,\
  new_duplicated_lines_density > 3.0,\
  new_security_hotspots_reviewed < 100

# WEDDING DAY SPECIFIC MONITORING
# Additional properties for wedding platform analysis
# These help track wedding-specific code quality metrics
sonar.analysis.mode=publish

# Documentation and Analysis Metadata
sonar.links.homepage=https://wedsync.com
sonar.links.ci=https://github.com/WedSync/actions
sonar.links.issue=https://github.com/WedSync/issues
sonar.links.scm=https://github.com/WedSync/WedSync2

# Large Codebase Optimizations
sonar.projectDate=2025-09-03
sonar.analysis.buildString=WedSync-Enterprise-v2.0
sonar.scm.provider=git

# Language Specific Configurations
sonar.javascript.exclusions=**/node_modules/**,**/dist/**
sonar.typescript.exclusions=**/node_modules/**,**/dist/**

# Import Detection (for proper dependency analysis)
sonar.javascript.globals=\
  __dirname,__filename,Buffer,console,exports,global,module,process,require,\
  window,document,navigator,location,history,localStorage,sessionStorage

# Advanced Analysis Options
sonar.analysis.detailedReport=true
sonar.verbose=false
sonar.log.level=INFO