# 04-dietary-matrix.md

## Purpose

Comprehensive dietary and allergen management system for caterers and venues, ensuring guest safety and satisfaction.

## Matrix Structure

### Categories

- **Allergies**: Nuts, shellfish, dairy, eggs, gluten, soy
- **Intolerances**: Lactose, gluten sensitivity, FODMAPs
- **Dietary Choices**: Vegetarian, vegan, pescatarian
- **Religious**: Halal, kosher, Hindu vegetarian
- **Medical**: Diabetic, low sodium, pureed textures
- **Preferences**: No red meat, no pork, no alcohol

### Data Points

- **Guest Count**: Number per requirement
- **Severity**: Mild, moderate, severe, life-threatening
- **Cross-Contamination**: Yes/no tolerance
- **Notes**: Specific details per requirement

## Input Methods

### Quick Entry

- **Preset Buttons**: Common requirements
- **Counter Interface**: +/- for quantities
- **Percentage Display**: Of total guests
- **Import from RSVP**: Auto-populate from responses

### Detailed Entry

- **Guest-by-Guest**: Link to specific people
- **Table Assignment**: Requirements by table
- **Meal Course**: Different per course
- **Children vs Adults**: Separate tracking

## Intelligence Features

### Conflict Detection

- **Incompatible Combinations**: Alert for conflicts
- **Kitchen Challenges**: Multiple severe allergies
- **Cross-Contamination Risks**: Shared equipment
- **Menu Feasibility**: Can menu accommodate all?

### Suggestions

- **Common Combinations**: Vegan + nut-free
- **Safe Menu Options**: Universal dishes
- **Alternative Ingredients**: Substitutions
- **Separate Preparation**: When needed

## Visual Display

### Summary View

- **Traffic Light System**: Red/yellow/green complexity
- **Pie Charts**: Requirement distribution
- **Priority List**: Severe allergies first
- **Icons**: Visual requirement indicators

### Detailed View

- **Expandable Rows**: See all details
- **Guest Names**: Who has what
- **Table View**: Requirements by table
- **Kitchen View**: Prep requirements

## Caterer Features

### Menu Planning

- **Filter Recipes**: By dietary compliance
- **Ingredient Lists**: Automatic checking
- **Allergen Warnings**: Highlighted risks
- **Safe Zones**: Completely safe dishes

### Kitchen Management

- **Prep Lists**: Separate by requirement
- **Station Assignment**: Avoid contamination
- **Label Generation**: For service
- **Staff Briefing**: Key alerts

## Safety Features

### Validation

- **Completeness Check**: All guests accounted
- **Confirmation Required**: For severe allergies
- **Medical Forms**: Upload for serious cases
- **Emergency Contacts**: For allergic guests

### Communication

- **Auto-Email Caterer**: Requirement summary
- **Guest Confirmation**: Verify accuracy
- **Update Notifications**: When changes occur
- **Day-of Reminders**: Critical allergies

## Compliance

### Legal Requirements

- **Allergen Laws**: EU/UK compliance
- **Documentation**: Audit trail
- **Consent**: Data handling
- **Insurance**: Relevant for severe cases

### Reporting

- **Summary Report**: For caterer
- **Detailed Breakdown**: Per guest
- **Kitchen Cards**: For chef stations
- **Service Notes**: For wait staff

## Integration

- **RSVP System**: Auto-import
- **Seating Chart**: Show requirements
- **Vendor Portal**: Share with caterer
- **Timeline**: Special meal service times