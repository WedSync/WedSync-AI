# TECHNICAL SPECIFICATION: WS-384 - Demo Suite System
## Generated by Feature Development Session - January 21, 2025

### USER STORY & BUSINESS CONTEXT (THINK HARD - BE FACTUAL)
**As a:** Wedding software sales representative or potential customer
**I want to:** Access a fully-functional demo environment with realistic wedding data across all supplier types
**So that:** I can experience the complete WedSync/WedMe platform capabilities without needing to create test data or wait for onboarding

**Real Wedding Scenario:**
A photographer considering WedSync needs to see how the platform handles client forms, timeline coordination with venues, and photo delivery workflows. Currently, they must either create dummy data or trust static screenshots. With the Demo Suite, they can instantly log into Sky Lens Studios (demo photographer account), see real client interactions with Emily & Jack Harper's wedding, explore completed forms, view timeline coordination with The Oak Barn venue, and experience the complete workflow that would take weeks to generate naturally.

### SPECIFICATION SOURCE
- **Feature ID:** WS-384
- **Original Spec:** /CORE-SPECIFICATIONS/11-TESTING-DEPLOYMENT/01-Testing/05-demo-suite-system.md
- **Current Implementation:** 0% complete
- **Files to Modify:** 
  - `/wedsync/src/app/demo/page.tsx` (create demo portal)
  - `/wedsync/src/lib/auth/demo-auth.ts` (authentication bypass)
  - `/wedsync/src/lib/database/demo-seed.ts` (data seeding scripts)
  - `/wedsync/supabase/migrations/` (demo schema additions)
- **New Files to Create:**
  - `/wedsync/src/components/demo/DemoPortal.tsx`
  - `/wedsync/src/components/demo/AccountSwitcher.tsx`
  - `/wedsync/scripts/reset-demo-data.ts`
  - `/wedsync/scripts/seed-demo-accounts.ts`

### TECHNICAL DESIGN

#### Database Schema Required
```sql
-- Demo account identification and management
ALTER TABLE users ADD COLUMN is_demo_account BOOLEAN DEFAULT FALSE;
ALTER TABLE users ADD COLUMN demo_reset_schedule TEXT CHECK (demo_reset_schedule IN ('nightly', 'weekly'));
ALTER TABLE users ADD COLUMN demo_created_at TIMESTAMPTZ;
ALTER TABLE users ADD COLUMN demo_last_reset TIMESTAMPTZ;

-- Demo supplier profiles
CREATE TABLE IF NOT EXISTS demo_supplier_profiles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  business_name TEXT NOT NULL,
  vendor_type vendor_type NOT NULL,
  tier subscription_tier DEFAULT 'professional',
  logo_url TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Demo couple profiles
CREATE TABLE IF NOT EXISTS demo_couple_profiles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  partner1_name TEXT NOT NULL,
  partner2_name TEXT NOT NULL,
  wedding_date DATE NOT NULL,
  venue_id UUID REFERENCES demo_supplier_profiles(id),
  guest_count INTEGER,
  planning_progress INTEGER DEFAULT 0 CHECK (planning_progress >= 0 AND planning_progress <= 100),
  profile_photo_url TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Demo activity logs
CREATE TABLE IF NOT EXISTS demo_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  account_id UUID REFERENCES users(id),
  action TEXT NOT NULL,
  metadata JSONB,
  ip_address INET,
  user_agent TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Demo relationship mapping
CREATE TABLE IF NOT EXISTS demo_supplier_couples (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  supplier_id UUID REFERENCES demo_supplier_profiles(id),
  couple_id UUID REFERENCES demo_couple_profiles(id),
  relationship_status TEXT DEFAULT 'active',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(supplier_id, couple_id)
);

-- Indexes for performance
CREATE INDEX idx_demo_logs_account ON demo_logs(account_id);
CREATE INDEX idx_demo_logs_created ON demo_logs(created_at);
CREATE INDEX idx_demo_supplier_couples_supplier ON demo_supplier_couples(supplier_id);
CREATE INDEX idx_demo_supplier_couples_couple ON demo_supplier_couples(couple_id);

-- Production data view (excludes demo accounts)
CREATE VIEW production_users AS
SELECT * FROM users WHERE is_demo_account = FALSE OR is_demo_account IS NULL;
```

#### API Endpoints Required
```typescript
// GET /api/demo/accounts
interface DemoAccountsResponse {
  suppliers: {
    id: string;
    businessName: string;
    vendorType: string;
    email: string;
    logoUrl?: string;
    tier: string;
  }[];
  couples: {
    id: string;
    partner1Name: string;
    partner2Name: string;
    email: string;
    weddingDate: string;
    venue: string;
    guestCount: number;
    planningProgress: number;
    profilePhotoUrl?: string;
  }[];
}

// POST /api/demo/login
interface DemoLoginRequest {
  accountId: string;
  accountType: 'supplier' | 'couple';
}

interface DemoLoginResponse {
  success: boolean;
  token: string;
  redirectUrl: string;
  accountInfo: {
    id: string;
    name: string;
    type: string;
  };
}

// POST /api/demo/reset
interface DemoResetRequest {
  accountIds?: string[]; // If empty, reset all
  resetType: 'soft' | 'hard'; // soft = data only, hard = accounts + data
}

interface DemoResetResponse {
  success: boolean;
  accountsReset: number;
  dataPointsCreated: number;
  resetDuration: number; // milliseconds
}

// GET /api/demo/status
interface DemoStatusResponse {
  isActive: boolean;
  lastReset: string;
  nextReset: string;
  accountCount: {
    suppliers: number;
    couples: number;
  };
  usageStats: {
    dailyLogins: number;
    popularAccounts: string[];
    averageSessionDuration: number;
  };
}
```

#### Frontend Components Required
```typescript
// Component: DemoPortal
// Location: /src/components/demo/DemoPortal.tsx

interface DemoPortalProps {
  onAccountSelect: (accountId: string, type: 'supplier' | 'couple') => void;
}

interface DemoAccount {
  id: string;
  name: string;
  type: 'supplier' | 'couple';
  email: string;
  avatarUrl?: string;
  description: string;
  featuresHighlighted: string[];
}

// Key functionality:
// - Grid layout showing all demo accounts with visual cards
// - One-click login to any account
// - Search and filter by vendor type or features
// - Account status indicators (online, last used)
// - Quick reset button for administrators
// - Guided tour mode toggle

// Component: AccountSwitcher  
// Location: /src/components/demo/AccountSwitcher.tsx

interface AccountSwitcherProps {
  currentAccount: DemoAccount;
  availableAccounts: DemoAccount[];
  onSwitch: (accountId: string) => void;
  isDemo: boolean;
}

// Key functionality:
// - Floating switcher bar when in demo mode
// - Instant account switching without logout
// - Visual indicator of current demo account
// - Exit demo mode option
// - Account type icons and names

// Component: DemoDataInspector
// Location: /src/components/demo/DemoDataInspector.tsx

interface DemoDataInspectorProps {
  accountId: string;
  showLogs?: boolean;
  allowReset?: boolean;
}

// Key functionality:
// - View raw database relationships for current account
// - Activity log for testing and debugging
// - Manual data reset for specific accounts
// - Export demo data for analysis
```

#### Integration Points
```typescript
// Service: DemoAuthService
// Dependencies: Supabase Auth, JWT handling

class DemoAuthService {
  async authenticateDemo(accountId: string, type: 'supplier' | 'couple') {
    // Create temporary JWT token for demo account
    // Bypass normal authentication flow
    // Set demo session flags
  }
  
  async switchAccount(fromId: string, toId: string) {
    // Log account switch activity
    // Update session with new account context
    // Preserve demo mode state
  }
  
  async exitDemo() {
    // Clear demo session
    // Redirect to normal login
    // Log demo session completion
  }
}

// Service: DemoDataService
// Dependencies: Database connection, Media storage

class DemoDataService {
  async seedDemoAccounts() {
    // Create all 7 supplier + 2 couple accounts
    // Generate realistic profile data
    // Upload media assets to storage
  }
  
  async seedRelationships() {
    // Connect suppliers to couples based on wedding needs
    // Create form submissions and responses
    // Generate message threads and activity
  }
  
  async resetAccountData(accountIds: string[]) {
    // Clear transactional data (messages, activities)
    // Regenerate with fresh timestamps
    // Maintain account structure and relationships
  }
  
  async generateAnalytics() {
    // Create 12-month historical data
    // Realistic booking patterns and seasonality
    // Form completion and engagement metrics
  }
}

// Service: DemoResetService
// Dependencies: Cron scheduling, Database operations

class DemoResetService {
  async scheduleResets() {
    // Set up nightly reset at 02:00 UTC
    // Weekly deep reset on Sunday 03:00 UTC
    // Monitor reset completion and errors
  }
  
  async executeReset(type: 'nightly' | 'weekly') {
    // Log reset start time
    // Execute data regeneration
    // Verify data integrity
    // Update last reset timestamps
  }
}
```

### CODE EXAMPLES

#### Example 1: Demo Portal Implementation
```typescript
// ACTUAL CODE PATTERN TO FOLLOW:
import { useState, useEffect } from 'react';
import { supabase } from '@/lib/supabase';
import { toast } from '@/components/ui/use-toast';

export default function DemoPortal() {
  const [accounts, setAccounts] = useState<{suppliers: any[], couples: any[]}>({
    suppliers: [],
    couples: []
  });
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function loadDemoAccounts() {
      try {
        const response = await fetch('/api/demo/accounts');
        if (!response.ok) throw new Error('Failed to load demo accounts');
        
        const data = await response.json();
        setAccounts(data);
      } catch (error) {
        toast({
          title: "Error",
          description: "Failed to load demo accounts",
          variant: "destructive"
        });
      } finally {
        setLoading(false);
      }
    }
    
    loadDemoAccounts();
  }, []);

  async function handleAccountLogin(accountId: string, type: 'supplier' | 'couple') {
    try {
      const response = await fetch('/api/demo/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ accountId, accountType: type })
      });
      
      if (!response.ok) throw new Error('Demo login failed');
      
      const { redirectUrl } = await response.json();
      window.location.href = redirectUrl;
      
    } catch (error) {
      toast({
        title: "Login Failed", 
        description: "Could not access demo account",
        variant: "destructive"
      });
    }
  }

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
      <div className="max-w-7xl mx-auto">
        <div className="text-center mb-12">
          <h1 className="text-4xl font-bold text-gray-900 mb-4">
            WedSync & WedMe Demo Suite
          </h1>
          <p className="text-xl text-gray-600 max-w-3xl mx-auto">
            Experience the complete wedding coordination platform with realistic data. 
            Click any account to instantly log in and explore features.
          </p>
        </div>

        {/* Supplier Accounts */}
        <div className="mb-12">
          <h2 className="text-2xl font-semibold mb-6">Supplier Accounts (WedSync Platform)</h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {accounts.suppliers.map((supplier) => (
              <div
                key={supplier.id}
                className="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer"
                onClick={() => handleAccountLogin(supplier.id, 'supplier')}
              >
                <div className="flex items-center mb-4">
                  {supplier.logoUrl && (
                    <img 
                      src={supplier.logoUrl} 
                      alt={`${supplier.businessName} logo`}
                      className="w-12 h-12 rounded-full mr-4"
                    />
                  )}
                  <div>
                    <h3 className="font-semibold text-lg">{supplier.businessName}</h3>
                    <p className="text-sm text-gray-500">{supplier.vendorType}</p>
                  </div>
                </div>
                <p className="text-sm text-gray-600 mb-2">{supplier.email}</p>
                <div className="flex justify-between items-center">
                  <span className="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">
                    {supplier.tier}
                  </span>
                  <button className="text-blue-600 text-sm font-medium hover:text-blue-800">
                    Login →
                  </button>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Couple Accounts */}
        <div>
          <h2 className="text-2xl font-semibold mb-6">Couple Accounts (WedMe Platform)</h2>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            {accounts.couples.map((couple) => (
              <div
                key={couple.id}
                className="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer"
                onClick={() => handleAccountLogin(couple.id, 'couple')}
              >
                <div className="flex items-center mb-4">
                  {couple.profilePhotoUrl && (
                    <img 
                      src={couple.profilePhotoUrl} 
                      alt={`${couple.partner1Name} & ${couple.partner2Name}`}
                      className="w-12 h-12 rounded-full mr-4"
                    />
                  )}
                  <div>
                    <h3 className="font-semibold text-lg">
                      {couple.partner1Name} & {couple.partner2Name}
                    </h3>
                    <p className="text-sm text-gray-500">
                      {new Date(couple.weddingDate).toLocaleDateString()}
                    </p>
                  </div>
                </div>
                <div className="mb-4">
                  <p className="text-sm text-gray-600 mb-1">
                    Venue: {couple.venue} • {couple.guestCount} guests
                  </p>
                  <div className="w-full bg-gray-200 rounded-full h-2">
                    <div 
                      className="bg-green-600 h-2 rounded-full" 
                      style={{width: `${couple.planningProgress}%`}}
                    ></div>
                  </div>
                  <p className="text-xs text-gray-500 mt-1">
                    {couple.planningProgress}% Planning Complete
                  </p>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-sm text-gray-500">{couple.email}</span>
                  <button className="text-blue-600 text-sm font-medium hover:text-blue-800">
                    Login →
                  </button>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

#### Example 2: Demo Authentication Service
```typescript
// ACTUAL CODE PATTERN TO FOLLOW:
import { supabase } from '@/lib/supabase';
import jwt from 'jsonwebtoken';

export class DemoAuthService {
  private static readonly DEMO_JWT_SECRET = process.env.DEMO_JWT_SECRET || 'demo-secret-key';
  private static readonly TOKEN_EXPIRY = '24h';

  static async createDemoSession(accountId: string, accountType: 'supplier' | 'couple') {
    try {
      // Verify account exists and is demo account
      const { data: account, error } = await supabase
        .from('users')
        .select('id, email, is_demo_account')
        .eq('id', accountId)
        .eq('is_demo_account', true)
        .single();

      if (error || !account) {
        throw new Error('Demo account not found');
      }

      // Create demo session token
      const token = jwt.sign(
        { 
          sub: accountId,
          type: accountType,
          demo: true,
          exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60) // 24 hours
        },
        this.DEMO_JWT_SECRET
      );

      // Log demo login
      await supabase
        .from('demo_logs')
        .insert({
          account_id: accountId,
          action: 'demo_login',
          metadata: { account_type: accountType }
        });

      // Set Supabase session for demo account
      const { error: authError } = await supabase.auth.setSession({
        access_token: token,
        refresh_token: token
      });

      if (authError) throw authError;

      return {
        success: true,
        token,
        redirectUrl: accountType === 'supplier' ? '/dashboard' : '/wedding'
      };

    } catch (error) {
      console.error('Demo auth error:', error);
      return { success: false, error: error.message };
    }
  }

  static async switchDemoAccount(currentId: string, newId: string) {
    try {
      // Log account switch
      await supabase
        .from('demo_logs')
        .insert({
          account_id: currentId,
          action: 'account_switch',
          metadata: { switch_to: newId }
        });

      // Determine account type
      const { data: newAccount } = await supabase
        .from('demo_supplier_profiles')
        .select('id')
        .eq('user_id', newId)
        .single();

      const accountType = newAccount ? 'supplier' : 'couple';
      
      return await this.createDemoSession(newId, accountType);

    } catch (error) {
      console.error('Demo switch error:', error);
      return { success: false, error: error.message };
    }
  }

  static async exitDemo(accountId: string) {
    try {
      // Log demo exit
      await supabase
        .from('demo_logs')
        .insert({
          account_id: accountId,
          action: 'demo_exit',
          metadata: {}
        });

      // Clear Supabase session
      await supabase.auth.signOut();

      return { success: true, redirectUrl: '/login' };

    } catch (error) {
      console.error('Demo exit error:', error);
      return { success: false, error: error.message };
    }
  }

  static verifyDemoToken(token: string) {
    try {
      const decoded = jwt.verify(token, this.DEMO_JWT_SECRET) as any;
      return {
        valid: true,
        accountId: decoded.sub,
        accountType: decoded.type,
        isDemo: decoded.demo
      };
    } catch (error) {
      return { valid: false, error: error.message };
    }
  }
}
```

### MCP SERVER USAGE

#### Required MCP Servers
- [x] Ref MCP: Search docs for Supabase authentication patterns, JWT implementation
- [x] Playwright: Test demo login flows and account switching
- [x] Browser MCP: Interactive testing of demo portal UI and user journeys  
- [x] Filesystem: Access demo data templates and media assets
- [x] Sequential Thinking MCP: Complex multi-phase implementation planning
- [x] PostgreSQL MCP: Database schema creation and data seeding
- [x] Supabase MCP: Authentication configuration and storage setup

#### Ref MCP Searches Needed
```bash
# Use Ref MCP to search for:
# - "Supabase authentication bypass patterns"
# - "Next.js JWT token handling best practices"
# - "Cron job scheduling in Node.js applications"
# - "Database seeding strategies for multi-tenant data"
# - "Image generation APIs for profile photos and logos"
```

#### Browser MCP Interactive Testing
```bash
# Use Browser MCP for:
# - Test demo portal loads correctly with all account cards
# - Verify one-click login works for each demo account
# - Test account switching without logout functionality
# - Screenshot demo accounts for documentation
# - Verify responsive design on mobile devices
# - Test data reset functionality and timing
```

#### Sequential Thinking MCP Planning (For Complex Features)
```yaml
# Use Sequential Thinking MCP to structure the 4-phase implementation:

# 1. Infrastructure Phase Analysis
- Database schema design for demo account isolation
- Authentication bypass security considerations  
- Demo portal UI/UX requirements and user flows
- Cron job setup for automated data resets

# 2. Data Generation Strategy
- Realistic wedding industry data patterns
- Supplier-couple relationship mapping logic
- Message thread and activity generation algorithms
- Analytics data creation for 12-month history

# 3. Media Asset Management
- Logo generation or sourcing strategy
- Profile photo creation and storage
- PDF document template organization
- Supabase storage bucket configuration

# 4. Testing and Polish Phase
- End-to-end testing scenarios for all user paths
- Performance testing for reset operations
- Security audit of demo access controls
- Documentation creation for demo usage
```

### TEST REQUIREMENTS

#### Unit Tests Required
```typescript
describe('Demo Suite System', () => {
  describe('DemoAuthService', () => {
    it('should create valid demo session for supplier account', async () => {
      const result = await DemoAuthService.createDemoSession('demo-supplier-1', 'supplier');
      expect(result.success).toBe(true);
      expect(result.token).toBeDefined();
      expect(result.redirectUrl).toBe('/dashboard');
    });

    it('should create valid demo session for couple account', async () => {
      const result = await DemoAuthService.createDemoSession('demo-couple-1', 'couple');
      expect(result.success).toBe(true);
      expect(result.redirectUrl).toBe('/wedding');
    });

    it('should reject non-demo accounts', async () => {
      const result = await DemoAuthService.createDemoSession('production-user-1', 'supplier');
      expect(result.success).toBe(false);
      expect(result.error).toContain('Demo account not found');
    });
  });

  describe('DemoDataService', () => {
    it('should seed all 7 supplier accounts correctly', async () => {
      await DemoDataService.seedDemoAccounts();
      const suppliers = await getDemoSuppliers();
      expect(suppliers).toHaveLength(7);
      expect(suppliers.map(s => s.vendorType)).toEqual(
        expect.arrayContaining(['photographer', 'videographer', 'venue', 'florist', 'dj', 'caterer', 'planner'])
      );
    });

    it('should create realistic relationships between suppliers and couples', async () => {
      await DemoDataService.seedRelationships();
      const relationships = await getDemoRelationships();
      expect(relationships.length).toBeGreaterThan(10); // Each couple connected to multiple suppliers
    });
  });

  describe('DemoResetService', () => {
    it('should complete data reset in under 5 minutes', async () => {
      const startTime = Date.now();
      await DemoResetService.executeReset('nightly');
      const duration = Date.now() - startTime;
      expect(duration).toBeLessThan(5 * 60 * 1000); // 5 minutes in milliseconds
    });

    it('should preserve account structure during reset', async () => {
      const accountsBefore = await getDemoAccounts();
      await DemoResetService.executeReset('nightly');
      const accountsAfter = await getDemoAccounts();
      
      expect(accountsAfter).toHaveLength(accountsBefore.length);
      expect(accountsAfter.map(a => a.id)).toEqual(accountsBefore.map(a => a.id));
    });
  });
});
```

#### E2E Tests Required
```typescript
// Using Playwright MCP for automated testing
test('Complete demo user journey', async () => {
  // Navigate to demo portal
  await mcp__playwright__browser_navigate({url: '/demo'});
  
  // Take baseline screenshot
  await mcp__playwright__browser_take_screenshot({filename: 'demo-portal-baseline.png'});
  
  // Verify all demo accounts are displayed
  await mcp__playwright__browser_snapshot();
  const accounts = await mcp__playwright__browser_evaluate({
    function: '() => document.querySelectorAll("[data-testid=demo-account-card]").length'
  });
  expect(accounts).toBe(9); // 7 suppliers + 2 couples

  // Test supplier login
  await mcp__playwright__browser_click({
    element: 'Sky Lens Studios demo account',
    ref: '[data-testid="demo-account-skylens"]'
  });
  
  // Verify redirect to supplier dashboard
  await mcp__playwright__browser_wait_for({text: 'Sky Lens Studios Dashboard'});
  await mcp__playwright__browser_take_screenshot({filename: 'supplier-dashboard-after-demo-login.png'});
  
  // Test account switching
  await mcp__playwright__browser_click({
    element: 'account switcher',
    ref: '[data-testid="demo-account-switcher"]'
  });
  
  await mcp__playwright__browser_click({
    element: 'Emily & Jack Harper couple account',
    ref: '[data-testid="demo-couple-emily-jack"]'
  });
  
  // Verify switch to couple platform
  await mcp__playwright__browser_wait_for({text: 'Emily & Jack Harper Wedding'});
  await mcp__playwright__browser_take_screenshot({filename: 'couple-dashboard-after-switch.png'});
});

test('Demo data reset functionality', async () => {
  // Login as admin user
  await mcp__playwright__browser_navigate({url: '/demo'});
  
  // Trigger manual reset
  await mcp__playwright__browser_click({
    element: 'reset demo data button',
    ref: '[data-testid="demo-reset-button"]'
  });
  
  // Wait for reset completion
  await mcp__playwright__browser_wait_for({text: 'Reset completed successfully'});
  
  // Verify data is refreshed
  const messageCount = await mcp__playwright__browser_evaluate({
    function: '() => fetch("/api/demo/status").then(r => r.json()).then(d => d.messageCount)'
  });
  expect(messageCount).toBeGreaterThan(0);
});
```

#### Interactive Testing with Browser MCP
```typescript
// Use Browser MCP during development for immediate feedback

// 1. Navigate to demo portal and test visual layout
await browser_navigate('/demo');
await browser_take_screenshot('demo-portal-development.png');

// 2. Test responsive design on different screen sizes
await browser_resize(375, 667); // iPhone SE
await browser_take_screenshot('demo-portal-mobile.png');
await browser_resize(768, 1024); // iPad
await browser_take_screenshot('demo-portal-tablet.png');
await browser_resize(1920, 1080); // Desktop
await browser_take_screenshot('demo-portal-desktop.png');

// 3. Test form interactions and account login flow
const demoAccounts = await browser_evaluate('() => Array.from(document.querySelectorAll("[data-testid=demo-account-card]")).map(el => el.textContent)');
console.log('Available demo accounts:', demoAccounts);

// 4. Test account switching functionality
await browser_click({
  element: 'first supplier account',
  ref: '[data-testid="demo-account-card"]:first-child'
});

// Monitor network requests during login
const requests = await browser_network_requests();
const authRequests = requests.filter(r => r.url.includes('/api/demo/login'));
console.log('Authentication requests:', authRequests);

// 5. Verify data relationships and consistency
await browser_navigate('/dashboard');
const clientData = await browser_evaluate('() => window.demoData || {}');
console.log('Demo data loaded:', Object.keys(clientData));
```

### ACCEPTANCE CRITERIA
- [ ] Demo portal accessible at `/demo` route with visual account cards
- [ ] All 9 demo accounts (7 suppliers + 2 couples) display correctly with proper branding
- [ ] One-click login works for each account without standard authentication flow  
- [ ] Account switching functionality allows seamless transitions between demo accounts
- [ ] Data appears realistic across all platforms with interconnected relationships
- [ ] Automated reset completes in <5 minutes and maintains account structure
- [ ] 100% of features display demo data (no empty states or missing information)
- [ ] Demo accounts isolated from production data and analytics
- [ ] Demo emails blacklisted from external sending
- [ ] Security audit passes for demo access controls
- [ ] **Navigation Integration: Feature properly integrated into parent dashboard/navigation (MANDATORY for all UI features)**
  - [ ] Demo portal accessible from main navigation during development/testing phases
  - [ ] Demo mode indicator visible when logged into demo accounts
  - [ ] Account switcher integrated into top navigation bar during demo sessions
  - [ ] Exit demo mode option prominently displayed
  - [ ] Demo status indicators working correctly across all platforms
  - [ ] Navigation integration verified with Browser MCP testing

### DEPENDENCIES
- Must complete after: Database schema is stable (no other major migrations pending)
- Must complete before: Production deployment and public launch
- Shares code with: Authentication system, User management, Media storage

### ESTIMATED EFFORT
- Team A Frontend: 32 hours (Demo portal UI, account switcher, responsive design)
- Team B Backend: 40 hours (Authentication bypass, API endpoints, data seeding)
- Team C Integration: 24 hours (Media asset management, storage configuration)
- Team D Platform: 16 hours (Database schema, reset automation, security)
- Team E General: 20 hours (Testing, documentation, polish)
- Team F Workflows: 8 hours (Cron job setup, monitoring)
- Team G Performance: 12 hours (Reset optimization, load testing)
- Total: 152 hours (approximately 4 weeks with full team)