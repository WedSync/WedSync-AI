# TECHNICAL SPECIFICATION: WS-162 - Helper Schedules
## Generated by Feature Development Session - August 23, 2025

### USER STORY & BUSINESS CONTEXT (THINK HARD - BE FACTUAL)
**As a:** Wedding helper receiving task assignments
**I want to:** View my personalized wedding day schedule with all assigned tasks and timing
**So that:** I know exactly when and where to be for my responsibilities

### SPECIFICATION SOURCE
- **Feature ID:** WS-162
- **Original Spec:** /CORE-SPECIFICATIONS/03-WEDME-COUPLE-PLATFORM/07-Timeline-Builder/03-helper-schedules md.md

### TECHNICAL DESIGN

#### Database Schema Required
```sql
CREATE TABLE IF NOT EXISTS helper_schedule_notifications (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  helper_id UUID REFERENCES wedding_helpers(id),
  schedule_version INTEGER,
  sent_at TIMESTAMPTZ DEFAULT NOW(),
  delivery_method VARCHAR(20) CHECK (delivery_method IN ('email', 'sms')),
  schedule_accepted BOOLEAN
);
```

### CODE EXAMPLES

```typescript
export function HelperSchedule({ helperId }: { helperId: string }) {
  const [assignments, setAssignments] = useState<TaskAssignment[]>([]);
  const [timelineView, setTimelineView] = useState<ScheduleEvent[]>([]);

  const generateHelperSchedule = async () => {
    const { data } = await supabase
      .from('task_assignments')
      .select(`
        *,
        wedding_tasks!inner(*),
        wedding_helpers!inner(*)
      `)
      .eq('helper_id', helperId)
      .order('wedding_tasks.timing_value');

    // Transform into timeline format
    const timeline = data.map(assignment => ({
      time: assignment.wedding_tasks.timing_value,
      title: assignment.wedding_tasks.title,
      location: assignment.wedding_tasks.location,
      duration: assignment.wedding_tasks.estimated_duration,
      notes: assignment.notes
    }));

    setTimelineView(timeline);
  };

  return (
    <div className="helper-schedule">
      <h2>Your Wedding Day Schedule</h2>
      <div className="timeline-view">
        {timelineView.map(event => (
          <div key={event.time} className="timeline-event">
            <div className="time font-bold">{event.time}</div>
            <div className="title">{event.title}</div>
            <div className="location text-gray-600">üìç {event.location}</div>
          </div>
        ))}
      </div>
    </div>
  );
}
```

### ACCEPTANCE CRITERIA
- [x] Personalized helper schedules with assigned tasks only
- [x] Mobile-friendly timeline view for wedding day access
- [x] Email/SMS schedule delivery with updates
- [x] Helper confirmation system for schedule acceptance
- [x] Integration with master timeline changes

### DEPENDENCIES
- Must complete after: WS-160 (Master Timeline), WS-157 (Helper Assignment)
- Estimated Effort: 32 hours total