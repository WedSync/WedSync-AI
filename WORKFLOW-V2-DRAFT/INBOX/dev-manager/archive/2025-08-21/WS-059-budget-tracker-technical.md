# TECHNICAL SPECIFICATION: WS-059 - Budget Tracker
## Generated by Feature Development Session - 2025-08-21

### USER STORY & BUSINESS CONTEXT (THINK HARD - BE FACTUAL)
**As a:** Couple with a $25,000 wedding budget
**I want to:** Track actual spending vs. planned budget by category
**So that:** I stay on budget and avoid the 30% average wedding overspend

**Real Wedding Scenario:**
Mike and Sarah set a $25,000 budget. They've spent $18,500 with venue ($8,000), photographer ($3,500), and catering ($7,000). The tracker shows they're 12% under budget with flowers and decorations still to book. They reallocate $500 from their contingency to upgrade flowers, staying exactly on budget.

### SPECIFICATION SOURCE
- **Feature ID:** WS-059
- **Original Spec:** /CORE-SPECIFICATIONS/03-WEDME-COUPLE-PLATFORM/08-Budget-Tracker/01-budget-categories md.md

### DATABASE SCHEMA
```sql
-- Budget Categories table
CREATE TABLE IF NOT EXISTS budget_categories (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  couple_id UUID NOT NULL REFERENCES couples(id),
  category_name VARCHAR(100) NOT NULL,
  budgeted_amount DECIMAL(10,2) NOT NULL,
  spent_amount DECIMAL(10,2) DEFAULT 0,
  committed_amount DECIMAL(10,2) DEFAULT 0, -- Contracted but not paid
  notes TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Budget Transactions table
CREATE TABLE IF NOT EXISTS budget_transactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  category_id UUID NOT NULL REFERENCES budget_categories(id),
  vendor_name VARCHAR(200),
  description TEXT NOT NULL,
  amount DECIMAL(10,2) NOT NULL,
  transaction_date DATE NOT NULL,
  transaction_type VARCHAR(20) CHECK (transaction_type IN ('expense', 'deposit', 'payment')),
  status VARCHAR(20) DEFAULT 'pending' CHECK (status IN ('pending', 'paid', 'overdue')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### ACCEPTANCE CRITERIA
- [x] Budget vs. actual tracking with visual progress indicators
- [x] Category-based organization with reallocation support
- [x] Integration with vendor contracts and payments

### ESTIMATED EFFORT
- Team A Frontend: 18 hours
- Team B Backend: 14 hours
- Total: 32 hours